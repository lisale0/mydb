package formatter

import (
	"bytes"
	"testing"
)

func TestReadHeader(t *testing.T) {
	/*
	00000000  3a 7b 22 56 65 72 73 69  6f 6e 22 3a 31 2c 22 4e  |:{"Version":1,"N|
	00000010  75 6d 52 6f 77 73 22 3a  31 30 32 34 2c 22 43 6f  |umRows":1024,"Co|
	00000020  6c 75 6d 6e 4e 61 6d 65  73 22 3a 5b 22 69 64 22  |lumnNames":["id"|
	00000030  2c 22 67 65 6e 64 65 72  22 5d 7d                 |,"gender"]}|
	 */
	bytesToRead := []byte{
		0x3a, 0x7b, 0x22, 0x56, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x22, 0x3a, 0x31, 0x2c, 0x22, 0x4e, 0x75,
		0x6d, 0x52, 0x6f, 0x77, 0x73, 0x22, 0x3a, 0x31, 0x30, 0x32, 0x34, 0x2c, 0x22, 0x43, 0x6f, 0x6c,
		0x75, 0x6d, 0x6e, 0x4e, 0x61, 0x6d, 0x65, 0x73, 0x22, 0x3a, 0x5b, 0x22, 0x69, 0x64, 0x22, 0x2c,
		0x22, 0x67, 0x65, 0x6e, 0x64, 0x65, 0x72, 0x22, 0x5d, 0x7d,
	}
	buf    := bytes.NewBuffer(bytesToRead)
	fileScanner := NewFileScanner(buf)
	fileScanner.ReadHeader()
}